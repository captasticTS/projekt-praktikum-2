@rendermode InteractiveServer
@page "/home"
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@using MudBlazor


<PageTitle>Home</PageTitle>

<MudText Typo="Typo.h2">Hello, world!</MudText>

<p></p>
<MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.TableChart" IconColor="Color.Primary" Size="Size.Large">All Statistics</MudButton>
<p></p>
<MudText Typo="Typo.h3">Your last Game</MudText>

@code{
    private string LoggedInUser => HttpContextAccessor.HttpContext.Session.GetString("LoggedInUser");
    private bool IsUserLoggedIn => !string.IsNullOrEmpty(LoggedInUser);
    private bool test = true;
    private DbGameService _gameService = new(new Database.AppDbContext());

    private async Task searchAndLog()
    {
        Console.WriteLine((await _gameService.FindGameByCode(123))?.Count() ?? -1);
    }
}